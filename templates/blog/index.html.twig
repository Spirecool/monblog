{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!
{% endblock %}

{% block body %}


	<h1>
		Blog
	</h1>


	<div class="row">
		{% for news in news %}
			<div class="col-md-4 mb-4">
				<div class="card shadow-sm h-100">
					<div class="card-img-bottom">
						{% if news.imageName %}
							<img src="{{ vich_uploader_asset(news, 'imageFile') }}" class="card-img" alt="{{ news.title }}">
						{% else %}
							<svg class="bd-placeholder-img" width="100%" height="200" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveaspectratio="xMidYMid slice" focusable="false">
								<title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
							</svg>
						{% endif %}
					</div>
					<div class="card-body">
						<span class="badge bg-primary rounded-pill align-text-bottom">New</span>
						<h3 class="mb-0">{{ news.title }}</h3>
						<div class="mb-1 text-body-secondary">
								{{ news.createdAt | ago }}
            </div>
						<p class="card-text mb-auto">{{ news.description|slice(0, 60) }}...</p>
						<a href="{{ path('app_news_show', { 'id': news.id }) }}" class="icon-link gap-1 icon-link-hover stretched-link btn btn-success mt-3">
							Lire
							<svg class="bi"><use xlink:href="#chevron-right"/></svg>
						</a>
					</div>

				</div>
			</div>
		{% endfor %}
	</div>


{% endblock %}
